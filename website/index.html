<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Io Lang - Enterprise Programming Language</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="logo.svg" type="image/x-icon">
    <!-- Add data attributes for better loading state handling -->
    <script>
        window.docsReady = false;
        window.monacoReady = false;
    </script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar-content">
            <a href="#" class="logo">
                <img src="logo.svg" alt="Io Lang" width="128" height="128">
                Io Lang
            </a>
            <div class="nav-links">
                <a href="#features" class="nav-link">Features</a>
                <a href="#playground" class="nav-link">Playground</a>
                <a href="#docs" class="nav-link">Documentation</a>
                <a href="https://github.com/iolang" class="nav-link">GitHub</a>
            </div>
        </div>
    </nav>

    <section class="hero">
        <div class="hero-content">
            <h1>Build Enterprise Software at Scale</h1>
            <p>Io Lang combines modern syntax with enterprise-grade reliability, empowering teams to build robust applications with confidence.</p>
            <div class="hero-actions">
                <button class="btn btn-primary" onclick="window.location.href='https://github.com/Gamecooler19/Io/releases';">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M8 18L12 22L16 18"></path>
                        <path d="M12 2V22"></path>
                    </svg>
                    Download Io Lang
                </button>   
                <button class="btn btn-secondary" onclick="window.location.href='#features'">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 20V10"></path>
                        <path d="M18 6L12 12L6 6"></path>
                    </svg>
                    Learn More
                </button>
            </div>
        </div>
    </section>

    <section class="playground" id="playground">
        <div class="playground-header">
            <h2>Interactive Playground</h2>
            <p>Try Io Lang directly in your browser</p>
        </div>
        <div class="playground-container">
            <div class="editor-wrapper">
                <div class="settings-panel" id="settingsPanel">
                    <div class="settings-header">
                        <h3>Editor Settings</h3>
                        <button class="action-btn" id="closeSettings">
                            <svg viewBox="0 0 24 24" width="18" height="18">
                                <path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                            </svg>
                        </button>
                    </div>
                    <div class="settings-content">
                        <div class="setting-item">
                            <label>Theme</label>
                            <select id="editorTheme">
                                <option value="ioTheme">IO Theme (Dark)</option>
                                <option value="vs-dark">VS Dark</option>
                                <option value="vs-light">VS Light</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label>Font Size</label>
                            <input type="number" id="fontSize" value="14" min="8" max="24">
                        </div>
                        <div class="setting-item">
                            <label>Tab Size</label>
                            <input type="number" id="tabSize" value="4" min="2" max="8">
                        </div>
                        <div class="setting-item">
                            <label>Word Wrap</label>
                            <input type="checkbox" id="wordWrap">
                        </div>
                        <div class="setting-item">
                            <label>Minimap</label>
                            <input type="checkbox" id="minimap">
                        </div>
                    </div>
                </div>
                <div class="editor-toolbar">
                    <div class="editor-tabs">
                        <button class="editor-tab active">
                            <svg viewBox="0 0 24 24" width="16" height="16">
                                <path fill="currentColor" d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"/>
                            </svg>
                            main.io
                        </button>
                        <button class="editor-tab">
                            <svg viewBox="0 0 24 24" width="16" height="16">
                                <path fill="currentColor" d="M3 3h18v18H3V3m15 15V6H6v12h12z"/>
                            </svg>
                            examples
                        </button>
                    </div>
                    <div class="editor-actions">
                        <button class="action-btn" id="formatBtn" title="Format Code">
                            <svg viewBox="0 0 24 24" width="18" height="18">
                                <path fill="currentColor" d="M8 17v-2h8v2H8m-4-4v-2h16v2H4m0-4V7h16v2H4z"/>
                            </svg>
                        </button>
                        <button class="action-btn" id="settingsBtn" title="Editor Settings">
                            <svg viewBox="0 0 24 24" width="18" height="18">
                                <path fill="currentColor" d="M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65c-.04-.24-.25-.42-.5-.42h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1 0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66z"/>
                            </svg>
                        </button>
                        <button class="action-btn primary" id="shareBtn">
                            <svg viewBox="0 0 24 24" width="18" height="18">
                                <path fill="currentColor" d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"/>
                            </svg>
                            Share
                        </button>
                        <button class="action-btn primary" id="runBtn">
                            <svg viewBox="0 0 24 24" width="18" height="18">
                                <path fill="currentColor" d="M8 5v14l11-7z"/>
                            </svg>
                            Run
                        </button>
                    </div>
                </div>
                <div id="editor-container"></div>
            </div>
            <div class="terminal-wrapper">
                <div class="terminal-toolbar">
                    <div class="terminal-title">
                        <svg viewBox="0 0 24 24" width="16" height="16"></svg>
                            <path fill="currentColor" d="M20 4v12H4V4h16m0-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/>
                            <path fill="currentColor" d="M12 12h8v2h-8v-2zM8.7 8.3L11.3 11l-2.6 2.7-1.4-1.4L8.7 11 7.3 9.7l1.4-1.4z"/>
                        </svg>
                        Output
                    </div>
                    <div class="terminal-actions">
                        <button class="action-btn" id="clearBtn" title="Clear Terminal">
                            <svg viewBox="0 0 24 24" width="16" height="16">
                                <path fill="currentColor" d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"/>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="terminal-content" id="terminal"></div>
            </div>
        </div>
    </section>

    <section class="features" id="features">
        <div class="container">
            <h2>Why Choose Io Lang?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                        </svg>
                    </div>
                    <h3>High Performance</h3>
                    <p>Built for speed with optimized runtime and efficient memory management.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/>
                        </svg>
                    </div>
                    <h3>Type Safety</h3>
                    <p>Strong static typing with modern type inference capabilities.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                    </div>
                    <h3>Community Driven</h3>
                    <p>Open-source with active community contributions and support.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="docs" id="docs">
        <div class="container">
            <div class="docs-header">
                <h2>Documentation</h2>
                <div class="docs-search">
                    <input type="text" placeholder="Search documentation..." id="docsSearch">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                </div>
            </div>
            <div class="docs-grid">
                <div class="docs-nav">
                    <div class="docs-category">
                        <h4>Getting Started</h4>
                        <ul>
                            <li><a href="#" data-doc="getting-started/installation">Installation</a></li>
                            <li><a href="#" data-doc="getting-started/quickstart">Quick Start</a></li>
                            <li><a href="#" data-doc="getting-started/basic-syntax">Basic Syntax</a></li>
                        </ul>
                    </div>
                    <div class="docs-category">
                        <h4>Core Concepts</h4>
                        <ul>
                            <li><a href="#" data-doc="core/type-system">Type System</a></li>
                            <li><a href="#" data-doc="core/functions">Functions</a></li>
                            <li><a href="#" data-doc="core/modules">Modules</a></li>
                        </ul>
                    </div>
                    <div class="docs-category">
                        <h4>Advanced Topics</h4>
                        <ul>
                            <li><a href="#" data-doc="advanced/error-handling">Error Handling</a></li>
                            <li><a href="#" data-doc="advanced/concurrency">Concurrency</a></li>
                            <li><a href="#" data-doc="advanced/memory-management">Memory Management</a></li>
                        </ul>
                    </div>
                </div>
                <div class="docs-content" id="docsContent">
                    <!-- Content will be loaded here dynamically -->
                    <div class="docs-loading">
                        Loading documentation...
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Load dependencies in correct order -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-powershell.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-ini.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-groovy.min.js"></script>

    <!-- Load Monaco -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.36.1/min/vs/loader.js"></script>

    <!-- Single initialization script -->
    <script>
        // Global initialization state
        window.initialized = false;

        // Single initialization point
        window.initializeApp = () => {
            if (window.initialized) return;
            window.initialized = true;

            require.config({
                paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.36.1/min/vs' }
            });

            window.MonacoEnvironment = {
                getWorkerUrl: function(workerId, label) {
                    return `data:text/javascript;charset=utf-8,${encodeURIComponent(`
                        self.MonacoEnvironment = {
                            baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.36.1/min'
                        };
                        importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.36.1/min/vs/base/worker/workerMain.js');
                    `)}`;
                }
            };

            // Load dependencies in order
            require(['vs/editor/editor.main'], function() {
                // Load docs.js first
                const docsScript = document.createElement('script');
                docsScript.src = 'js/docs.js';
                docsScript.onload = () => {
                    // Then load app.js
                    const appScript = document.createElement('script');
                    appScript.src = 'app.js';
                    document.body.appendChild(appScript);
                };
                document.body.appendChild(docsScript);
            });
        };

        // Start initialization
        window.initializeApp();
    </script>
</body>
</html>